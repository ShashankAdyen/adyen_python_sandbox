<HTML>
	<body>
		<form class="clientForm" action="http://localhost:8000/cgi-bin/submit.py">
			paymentAmount: <input type="text" id="paymentAmount" name="paymentAmount" value="500"/><br>
			currencyCode: <input type="text" id="currencyCode" name="currencyCode" value="EUR"/><br>
			skinCode: <input type="text" id="skinCode" name="skinCode" value="rKJeo2Mf"/><br>
			merchantAccount: <input type="text" id="merchantAccount" name="merchantAccount" value="ColinRood"/><br>
			merchantReference: <input type="text" id="merchantReference" value="merchantReference" name="merchantReference" value="Simulated HPP transaction"/><br>
			sessionValidity: <input type="text" id="sessionValidity" name="sessionValidity" value="2017-12-17T13:42:40+01:00"/><br>
			hmacKey: <input type="text" id="hmacKey" name="hmacKey" value="BE1C271E9CD9D2F6611D2C7064FE9EE314DA58539195E92BF5AC706209A514DB"/><br>
			<input type="hidden" name="endpoint" value="hmac_signature"/>
			<input type="submit" class="submitBtn" id="submit" name="submit" value="calculate form"/>
		</form>

		<br><br><br>

		<form>
			<textarea rows="10" cols="50" id="JSONTextArea">
				Raw JSON input
			</textarea>
			<br>
			<input type="button" class="submitBtn" id="submitJSON" value="calculate json"/>
		</form>
	</body>
</HTML>

<link rel="stylesheet" type="text/css" href="http://localhost:8000/styles/style.css"/>

<script>

document.getElementById("submitJSON").addEventListener("click", sendJSONData);

function sendJSONData() {
	var data = JSON.parse(document.getElementById("JSONTextArea").value);
	data.endpoint = "hmacKey";
	post("http://localhost:8000/cgi-bin/submit.py", data, "POST");
};

// post method that redirects browser
function post(path, params, method) {
	method = method || "post"; // Set method to post by default if not specified.

	// The rest of this code assumes you are not using a library.
	// It can be made less wordy if you use one.
	var form = document.createElement("form");
	form.setAttribute("method", method);
	form.setAttribute("action", path);

	for(var key in params) {
		if(params.hasOwnProperty(key)) {
			var hiddenField = document.createElement("input");
			hiddenField.setAttribute("type", "hidden");
			hiddenField.setAttribute("name", key);
			hiddenField.setAttribute("value", params[key]);

			form.appendChild(hiddenField);
		 }
	}

	document.body.appendChild(form);
	form.submit();
}

</script>